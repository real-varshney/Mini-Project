<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon_io/apple-touch-icon.png">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="./js/quizsheeet.js" type="module"></script>
    <link rel="stylesheet" href="./quizsheet.css">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon_io/favicon-16x16.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <title>Document</title>

</head>

<body>
    <div class="nav">
        <div class="head"><img src="./img/logo.png" alt="" srcset=""></div>
        <ul class="box">
            <a href="#">
                <li>HOME</li>
            </a>
            <a href="#">
                <li>ABOUT US</li>
            </a>
            <a href="#">
                <li>EXAMS</li>
            </a>
            <a href="#">
                <li>CONTACT US</li>
            </a>
        </ul>
        <div class="ser">
            <div class="search" style="margin-right: 40px;">
                <input type="text" class="form-control " placeholder="Search..">
                <button type="button" class="btn btn-outline-primary mt-2">SEARCH</button>
            </div>
            <!-- <img src="./img/images.png" alt="" class="user"> -->
            <div id="profile">
                <a href="" id="user" class="nav-links">USERNAME</a>
                <a href="" id="signout">Signout</a>
            </div>
        </div>
    </div>
    <div class="he display-3 mx-auto d-table">Create your Quiz</div>
    <div class="mb-5">
        <div id="main">
            <!-- <div id="que">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Question</span>
                    </div>
                    <textarea class="form-control" aria-label="With textarea" placeholder="Add Question..."
                        id="pl"></textarea>
                </div>


                <div class="container mx-0 px-0 mt-3">
                    <div class="row">
                        <div class="col-sm">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">OPTION A</span>
                                </div>
                                <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                    aria-describedby="basic-addon1" id="opt1">
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">OPTION B</span>
                                </div>
                                <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                    aria-describedby="basic-addon1" id="opt2">
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">OPTION C</span>
                                </div>
                                <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                    aria-describedby="basic-addon1" id="opt3">
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">OPTION D</span>
                                </div>
                                <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                    aria-describedby="basic-addon1" id="opt4">
                            </div>
                        </div>
                    </div>
                </div>
                <fieldset class="form-group row anno">
                    <legend class="col-form-label col-sm-2 float-sm-left pt-0 " style="font-size: 1.5rem;"> Correct
                        Answer:</h4>
                    </legend>
                    <div class="col-sm-10 dis">
                        <div class="form-check">
                            <input class="form-check-input grd" type="radio" name="gridRadios" id="gridRadios1"
                                value="option1">
                            <label class="form-check-label mr-3" for="gridRadios1">
                                OPTION A
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input grd" type="radio" name="gridRadios" id="gridRadios2"
                                value="option2">
                            <label class="form-check-label" for="gridRadios2">
                                OPTION B
                            </label>
                        </div>
                        <div class="form-check disabled">
                            <input class="form-check-input grd" type="radio" name="gridRadios" id="gridRadios3"
                                value="option3">
                            <label class="form-check-label" for="gridRadios3">
                                OPTION C
                            </label>
                        </div>
                        <div class="form-check disabled">
                            <input class="form-check-input grd" type="radio" name="gridRadios" id="gridRadios3"
                                value="option4">
                            <label class="form-check-label" for="gridRadios3">
                                OPTION D
                            </label>
                        </div>
                    </div>
                </fieldset>
            </div> -->
        </div>
        <button type="button" class="btn btn-primary prp" id="subm">Submit</button>
    </div>

 <script>


        let userlink = document.getElementById('user');
        let signoutlink = document.getElementById('signout');
        var currentuser = null;
        const capitalizeFirstLetter = ([first, ...rest], locale = navigator.language) =>
            first === undefined ? '' : first.toLocaleUpperCase(locale) + rest.join('')

        function getusername() {
            let keeploggedin = localStorage.getItem("keeploggedin");

            if (keeploggedin == "yes") {
                currentuser = JSON.parse(localStorage.getItem('user'));
            }
            else {
                currentuser = JSON.parse(sessionStorage.getItem('user'));
            }
        }

        function signout() {
            sessionStorage.removeItem('user');
            localStorage.removeItem('user');
            localStorage.removeItem('keeploggedin');
            window.location = "index.html";
        }

        window.onload = function () {
            getusername();
            if (currentuser == null) {
                userlink.innerText = "Create New Account";
                userlink.classList.add('btn', 'btn-primary');
                userlink.href = "Signin.html";

                signoutlink.innerText = "Login";
                signoutlink.classList.add('btn', 'btn-success');
                signoutlink.href = "login2.html";
            }
            else {
                const user = currentuser.username;
                userlink.innerText = capitalizeFirstLetter(currentuser.username);
                userlink.classList.add('badge');

                signoutlink.innerText = "Sign out";
                signoutlink.classList.add('btn', 'btn-secondary');
                signoutlink.href = "javascript:signout() ";


            }
        }
    </script>
    <script>
        const value = 10 - 1;
        function addCode(count) {
            document.getElementById("main").innerHTML +=
                `        <div id="que">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Question </span>
                </div>
                <textarea class="form-control" aria-label="With textarea" placeholder="Add Question..."></textarea>
            </div>
    
    
            <div class="container mx-0 px-0 mt-3">
                <div class="row">
                    <div class="col-sm">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1" >OPTION A</span>
                            </div>
                            <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                aria-describedby="basic-addon1">
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">OPTION B</span>
                            </div>
                            <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                aria-describedby="basic-addon1">
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">OPTION C</span>
                            </div>
                            <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                aria-describedby="basic-addon1">
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">OPTION D</span>
                            </div>
                            <input type="text" class="form-control" placeholder="Option" aria-label="Username"
                                aria-describedby="basic-addon1">
                        </div>
                    </div>
                </div>
            </div>
            <fieldset class="form-group row anno">
                <legend class="col-form-label col-sm-2 float-sm-left pt-0 " style="font-size: 1.5rem;"> Correct Answer:</h4></legend>
                <div class="col-sm-10 dis">
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1">
                    <label class="form-check-label mr-3" for="gridRadios1">
                     OPTION A 
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">
                    <label class="form-check-label" for="gridRadios2">
                        OPTION B
                    </label>
                  </div>
                  <div class="form-check disabled">
                    <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios3" value="option3">
                    <label class="form-check-label" for="gridRadios3">
                        OPTION C
                    </label>
                  </div>
                  <div class="form-check disabled">
                    <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios3" value="option4">
                    <label class="form-check-label" for="gridRadios3">
                        OPTION D
                    </label>
                  </div>
                </div>
              </fieldset>
        </div>`;
        }
        for (var i = 0; i < value; i++) {
            addCode(i);
        }
    </script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";
        import { getFirestore, collection, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDwquClXelyimODKdx5YtafUJA2xBa_iy0",
            authDomain: "scrutiny-42e5b.firebaseapp.com",
            databaseURL: "https://scrutiny-42e5b-default-rtdb.firebaseio.com",
            projectId: "scrutiny-42e5b",
            storageBucket: "scrutiny-42e5b.appspot.com",
            messagingSenderId: "706713208040",
            appId: "1:706713208040:web:85dbcdf6f73ffb54fc755d",
            measurementId: "G-HY0Y3GYKDG"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        var que = document.getElementById('pl');
        var opt1 = document.getElementById('opt1');
        var opt2 = document.getElementById('opt2');
        var opt3 = document.getElementById('opt3');
        var opt4 = document.getElementById('opt4');
        var submit = document.getElementById('subm');
        var crans;
        
        firebase.initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // async function add(){
        //     try {
        //     const docRef = await addDoc(collection(db, "NAme", "paper1", "Q1"), {
        //         question: que,
        //         option1: opt1,
        //         option2: opt2,
        //         option3: opt3,
        //         option4: opt4,
        //         // correctanswer: crans
        //     });

        //     alert("Data added successfully");

        // } catch (e) {
        //     console.error("Error adding document: ",e);
        // }
        // }






        // function myFunction(gridRadios) {
        //     crans = gridRadios.value;
        // }
        // alert(crans);
        //     var dbRef = db.collection('User').collection('questionid');
        //     dbRef.collection('question').set({
        //         question: que,
        //         option1: opt1,
        //         option2: opt2,
        //         option3: opt3,
        //         option4: opt4,
        //         correctanswer: crans
        // });
        
        submit.addEventListener('click', async ()=> {
            try {
            const docRef = await addDoc(collection(db, "NAme", "paper1", "Q1"), {
                question: que.value,
                option1: opt1.value,
                option2: opt2.value,
                option3: opt3.value,
                option4: opt4.value,
                // correctanswer: crans
            });

            alert("Data added successfully", que);

        } catch (e) {
            console.error("Error adding document: ",e);
        }
        })
    </script> 
    <div class="footer text-center">
        © Copyright 2022 - 2025 Scrutiny
    </div>
</body>

</html>